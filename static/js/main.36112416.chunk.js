(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(57)},33:function(e,a,t){},57:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(24),i=t.n(c),l=t(10),s=t(11),o=t(14),m=t(13),d=t(15),u=(t(33),t(34),t(2)),g=t(7),E=t(26),p=t(4),v={imagesList:[],loading:!1,isFirstLoad:!1,page:1,savedSearchList:[],isModalVisible:!1,modalCurrentImgIndex:null,isMobSavedVisible:!1},b=Object(g.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_IMAGES":return a.keyword!==e.keyword?Object(p.a)({},e,{keyword:a.keyword,totalPages:a.total_pages,totalImages:a.total,page:a.last_page,imagesList:a.images_list,loading:!1,isFirstLoad:!0}):Object(p.a)({},e,{loading:!1});case"GET_MORE_IMAGES":return Object(p.a)({},e,{imagesList:e.imagesList.concat(a.payload.results),page:a.last_page});case"IMAGES_LOADING":return Object(p.a)({},e,{loading:!0});case"SAVE_IMAGE_LIST":return 0===e.savedSearchList.filter(function(a){return a.savedKeyword===e.keyword}).length?Object(p.a)({},e,{savedSearchList:e.savedSearchList.concat({savedKeyword:e.keyword,savedTotalImages:e.totalImages,savedTotalPages:e.totalPages,savedImagesList:e.imagesList.slice(0,30)})}):e;case"DELETE_SAVED_SEARCH":return Object(p.a)({},e,{savedSearchList:e.savedSearchList.filter(function(e){return e.savedKeyword!==a.keyword})});case"OPEN_IMAGE_MODAL":return Object(p.a)({},e,{isModalVisible:!0,modalCurrentImgIndex:e.imagesList.findIndex(function(e){return e.id===a.imageId})});case"CLOSE_IMAGE_MODAL":return Object(p.a)({},e,{isModalVisible:!1});case"NEXT_MODAL_IMAGE":return Object(p.a)({},e,{modalCurrentImgIndex:a.imageIndex});case"TOGGLE_MOB_SAVED_POPUP":return Object(p.a)({},e,{isMobSavedVisible:!e.isMobSavedVisible});default:return e}}}),f=[E.a],h=Object(g.e)(b,{},Object(g.d)(g.a.apply(void 0,f),window._REDUX_DEVTOOLS_EXTENSION_?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),y=t(3),I=t(17),S=t.n(I),O=t(17).toJson,_=new S.a({applicationId:"945e06e6f422db442b33f0e0e7aadb5a3dc5ea1da946279f5ee012dc448ed264",secret:"93eca2da52d5fc2d52e5d1a5f041a4eb820433bf2e2405a4f2439858c1cdc902"}),N=function(e,a){return function(t){t(w()),_.search.photos(e,a,30).then(O).then(function(n){return t({type:"GET_IMAGES",payload:n,keyword:e,last_page:a,total_pages:n.total_pages,total:n.total,images_list:n.results})})}},w=function(){return{type:"IMAGES_LOADING"}},M=function(){return{type:"TOGGLE_MOB_SAVED_POPUP"}},L=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={keyword:""},t.onSubmit=function(){""!==t.state.keyword&&t.props.getImages(t.state.keyword,1)},t.onChange=function(e){t.setState({keyword:e.target.value})},t.handleKeyPress=function(e){"Enter"===e.key&&t.onSubmit()},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{type:"text",name:"search",id:"searchInput",placeholder:"Search Image...",value:this.state.keyword,onChange:this.onChange,onKeyPress:this.handleKeyPress}),r.a.createElement("button",{id:"searchSubmit",className:"btn",onClick:this.onSubmit},r.a.createElement(y.a,{icon:"search"}),r.a.createElement("span",{className:"btn-text mobile-hidden"},"Search")))}}]),a}(n.Component),k=Object(u.b)(null,{getImages:N})(L);var x=Object(u.b)(null,{deleteSavedSearch:function(e){return function(a){a({type:"DELETE_SAVED_SEARCH",keyword:e})}},loadSavedSearch:function(e){return function(a){a(w()),a({type:"GET_IMAGES",keyword:e.savedKeyword,last_page:1,total_pages:e.savedTotalPages,total:e.savedTotalImages,images_list:e.savedImagesList})}}})(function(e){var a=e.item;return r.a.createElement("li",{className:"saved-search-item"},r.a.createElement("span",{className:"saved-keyword m-auto"},r.a.createElement("button",{className:"load-saved-search",onClick:function(){e.loadSavedSearch(e.item)}},a.savedKeyword)),r.a.createElement("span",{className:"saved-total-images text-center m-auto"},a.savedTotalImages," images"),r.a.createElement("button",{className:"delete-saved-search",onClick:function(){e.deleteSavedSearch(e.item.savedKeyword)}},r.a.createElement(y.a,{icon:"times"})))});var A=Object(u.b)(null,{saveSearch:function(){return{type:"SAVE_IMAGE_LIST"}}})(function(e){return r.a.createElement("button",{className:"btn",onClick:function(){return e.saveSearch()}},r.a.createElement(y.a,{icon:"save"}),r.a.createElement("span",{className:"btn-text"},"Save Search"))});var j=Object(u.b)(null,{toggleMobSavedPopup:M})(function(e){return r.a.createElement("div",{className:"mobile-bottom-line"},r.a.createElement("div",{className:"mobile-line-inner"},r.a.createElement("button",{className:"btn",onClick:function(){e.toggleMobSavedPopup()}},"Open Saved Search")))});var C=Object(u.b)(function(e){return{image:e.image}},{toggleMobSavedPopup:M})(function(e){var a=e.image.savedSearchList;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"saved-search-container"+(e.image.isMobSavedVisible?" active":" ")},r.a.createElement("div",{className:"saved-search-inner-container"},r.a.createElement("button",{className:"close-mob-saved",onClick:function(){e.toggleMobSavedPopup()}},r.a.createElement(y.a,{icon:"times",size:"2x"})),r.a.createElement("h2",{className:"text-center title"},"Saved Search"),a.length>0?r.a.createElement("ul",{className:"saved-search-list"},a.map(function(e){return r.a.createElement(x,{key:e.savedKeyword,item:e})})):r.a.createElement("div",{className:"py-5 text-center opacity-half"},r.a.createElement("p",null,"Empty Saved Search List")),e.image.isFirstLoad&&0!==e.image.totalImages&&r.a.createElement(A,null))),r.a.createElement(j,null))});function G(){return r.a.createElement("div",{className:"py-5 text-center m-auto"},r.a.createElement(y.a,{icon:"spinner",spin:!0,pulse:!0,size:"2x"}),r.a.createElement("p",null,"Loading..."))}var T=Object(u.b)(function(e){return{image:e.image}},{closeImageModal:function(){return{type:"CLOSE_IMAGE_MODAL"}},nextModalImage:function(e){return function(a){a({type:"NEXT_MODAL_IMAGE",imageIndex:e})}}})(function(e){var a=e.image.modalCurrentImgIndex,t=e.image.imagesList[e.image.modalCurrentImgIndex],n=e.image.imagesList.length-1;return r.a.createElement("div",{className:"modal-fixed-container"},0!==a&&r.a.createElement("div",{className:"left-arrow modal-arrow"},r.a.createElement("button",{className:"prev-img",onClick:function(){e.nextModalImage(e.image.modalCurrentImgIndex-1)}},r.a.createElement(y.a,{icon:"angle-left",size:"5x"}))),r.a.createElement("div",{className:"modal-inner-container"},null!==t.description&&r.a.createElement("div",{className:"modal-description-container"},r.a.createElement("div",{className:"modal-description-inner-container"},t.description)),r.a.createElement("img",{className:"modal-image",src:t.urls.regular,alt:""})),a!==n&&r.a.createElement("div",{className:"right-arrow modal-arrow"},r.a.createElement("button",{className:"next-img",onClick:function(){e.nextModalImage(e.image.modalCurrentImgIndex+1)}},r.a.createElement(y.a,{icon:"angle-right",size:"5x"}))),r.a.createElement("button",{className:"close-modal",onClick:function(){e.closeImageModal()}},r.a.createElement(y.a,{icon:"times",size:"3x"})))}),P=t(27),D=t.n(P);var V=Object(u.b)(null,{openImageModal:function(e){return function(a){a({type:"OPEN_IMAGE_MODAL",imageId:e})}}})(function(e){var a=e.image;return r.a.createElement("div",{className:"image-flex-container"},r.a.createElement("img",{className:"single-photo",src:a.urls.raw+"&w=300&h=280",alt:a.description,onClick:function(){return e.openImageModal(e.image.id)}}))});var K=Object(u.b)(function(e){return{image:e.image}},{getMoreImages:function(e,a){return function(t){_.search.photos(e,a,30).then(O).then(function(n){return t({type:"GET_MORE_IMAGES",payload:n,keyword:e,last_page:a})})}}})(function(e){var a=e.image.imagesList;return 0===e.image.totalImages?r.a.createElement("div",{className:"py-5 text-center opacity-half m-auto red"},r.a.createElement(y.a,{icon:"sad-cry",size:"3x"}),r.a.createElement("p",null,"On keyword ",r.a.createElement("b",null,e.image.keyword)," No images found.",r.a.createElement("br",null),"Try another keyword!")):r.a.createElement("div",{className:"images-container py-5"},r.a.createElement(D.a,{dataLength:a.length,next:function(){var a=e.image.page+1,t=e.image.keyword;e.getMoreImages(t,a)},hasMore:e.image.totalPages!==e.image.page,style:{overflowY:"hidden"},loader:r.a.createElement(G,null)},r.a.createElement("div",{className:"images-flex"},a.map(function(e){return r.a.createElement(V,{key:e.id,image:e})}))))});var z=Object(u.b)(function(e){return{image:e.image}},{getImages:N})(function(e){return r.a.createElement("div",{className:"images-container"},r.a.createElement("div",{className:"title images-title"},r.a.createElement("h2",null,"Images"),e.image.isFirstLoad&&r.a.createElement("p",{className:"images-count"},"On keyword ",r.a.createElement("b",null,e.image.keyword)," ",e.image.totalImages," ","images found.")),e.image.loading?r.a.createElement(G,null):e.image.isFirstLoad?r.a.createElement(K,null):r.a.createElement("div",{className:"py-5 text-center opacity-half m-auto"},r.a.createElement(y.a,{icon:"images",size:"3x"}),r.a.createElement("p",null,"Empty Images List")),e.image.isModalVisible&&r.a.createElement(T,null))}),F=t(9),R=t(5);F.b.add(R.g,R.f,R.c,R.d,R.e,R.h,R.b,R.a);var X=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{store:h},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flex-header"},r.a.createElement("h1",{className:"site-title"},"Image Search Web App"),r.a.createElement(k,null)))),r.a.createElement("div",{className:"App-body container py-5"},r.a.createElement(C,null),r.a.createElement(z,null))))}}]),a}(n.Component);i.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.36112416.chunk.js.map